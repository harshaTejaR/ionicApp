<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/inventory"></ion-back-button>
    </ion-buttons>
    <ion-title>Edit Inventory Item</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Edit Inventory Item</ion-title>
    </ion-toolbar>
  </ion-header>

  <form (ngSubmit)="saveItem()">
    <ion-list>
      <ion-item>
        <ion-input label="Item Name" labelPlacement="floating" [(ngModel)]="itemName" name="itemName" required></ion-input>
      </ion-item>
      <ion-item>
        <ion-input label="Quantity" labelPlacement="floating" type="number" [(ngModel)]="quantity" name="quantity" required></ion-input>
      </ion-item>
      
      <!-- Show dimensions and surface area information if available -->
      <ion-item *ngIf="item?.dimensions && item.dimensions.length > 0 && item.dimensions.width > 0">
        <ion-label>
          <h2>Dimensions</h2>
          <p>{{ item.dimensions.length }}{{ item.dimensions.unit }} Ã— {{ item.dimensions.width }}{{ item.dimensions.unit }}</p>
          <p *ngIf="item.dimensions.thickness > 0">Thickness: {{ item.dimensions.thickness }}{{ item.dimensions.unit }}</p>
        </ion-label>
      </ion-item>
      
      <ion-item *ngIf="item?.totalSurfaceArea">
        <ion-label>
          <h2>Total Surface Area</h2>
          <p>{{ item.totalSurfaceArea.formatted }}</p>
          <p><small>Surface area per item: {{ (item.totalSurfaceArea.value / item.quantity).toFixed(2) }} {{ item.totalSurfaceArea.unit }}</small></p>
        </ion-label>
      </ion-item>
    </ion-list>
    <ion-button expand="block" type="submit">Save Changes</ion-button>
    <ion-button expand="block" color="danger" (click)="deleteItem()">Delete Item</ion-button>
    <ion-button expand="block" color="medium" (click)="cancel()">Cancel</ion-button>
  </form>
</ion-content>